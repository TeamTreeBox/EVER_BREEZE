using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public enum ItemState
{
    Field,
    Grab,
    Inventory
}


public class JY_ItemInfo : MonoBehaviour
{
    private bool activeState;

    public GameObject itemInfo;

    public ItemState state = ItemState.Field;
    
    void Start()
    {
        itemInfo.SetActive(false);
        activeState = false;
    }

    bool stateInventory;
    void Update()
    {
        switch (state)
        {
            case ItemState.Field:
                    Feild();
                break;

            case ItemState.Grab:
                Grab();
                break;

            case ItemState.Inventory:
                Inventory();
                break;
        }

        /*if (BookVR.instance.InventoryOn == true && stateInventory == false)
        {
            stateInventory = true;
            ItemState state = ItemState.Inventory;
            //print("%R.Two 버튼 누름%");
            //print(state);
        }*/
    }

    private void Feild()
    {
        itemInfo.SetActive(false);
        print(state);
    }

    private void Grab()
    {
        if (OVRInput.GetDown(OVRInput.Button.Two, OVRInput.Controller.RTouch))
        {
            print(state);
            print("Grab B버튼 누름");
            if (activeState == true)
            {
                itemInfo.SetActive(true);
                print("Grab 사라짐");
                activeState = false;
            }
            else
            {
                itemInfo.SetActive(false);
                print("Grab 생겨짐");
                activeState = true;
            }
        }
    }

    bool itemInfoActive;
    private void Inventory()
    {
        if (OVRInput.GetDown(OVRInput.Button.Two, OVRInput.Controller.RTouch) && gameObject.tag == "Water")
        {
            print(state);
            //print("Inventory B버튼 누름");
            if (activeState == true)
            {
                itemInfo.SetActive(true);
                print("Water생겨짐");
                activeState = false;
            }else
            {
                itemInfo.SetActive(false);
                print("Water사라짐");
                activeState = true;
            }
        }

        if (OVRInput.GetDown(OVRInput.Button.Two, OVRInput.Controller.RTouch) && gameObject.tag == "Branch")
        {
            print(state);
            //print("Inventory B버튼 누름");
            if (activeState == true)
            {
                itemInfo.SetActive(true);
                print("Branch생겨짐");
                activeState = false;
            }
            else
            {
                itemInfo.SetActive(false);
                print("Branch사라짐");
                activeState = true;
            }
        }

        if (OVRInput.GetDown(OVRInput.Button.Two, OVRInput.Controller.RTouch) && gameObject.tag == "JamSotone")
        {
            print(state);
            //print("B버튼 누름");
            if (activeState == true)
            {
                itemInfo.SetActive(true);
                print("JamSotone생겨짐");
                activeState = false;
            }
            else
            {
                itemInfo.SetActive(false);
                print("JamSotone사라짐");
                activeState = true;
            }
        }
    }
}
